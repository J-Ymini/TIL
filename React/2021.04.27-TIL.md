# âš› React Router

> routerì™€ sassì— ë“¤ì–´ê°€ê¸° ì „, SPAì— ëŒ€í•´ ê°„ë‹¨íˆ ì •ì˜í•˜ê³  ë„˜ì–´ê°€ë³´ì

## SPAë€?

- Single Page Application, ì¦‰ í˜ì´ì§€ê°€ í•˜ë‚˜ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜

- ë‹¤ìˆ˜ì˜ í˜ì´ì§€ê°€ ì¡´ì¬í•˜ëŠ” ì „í†µì  ì• í”Œë¦¬ì¼€ì´ì…˜ë³´ë‹¤ ê¸°ëŠ¥ ë° ì†ë„ì ì¸ ë©´ì—ì„œ ìš°ìˆ˜í•œ ì¥ì ì´ ìˆë‹¤.
- Routing ê¸°ëŠ¥ì„ í†µí•´ í•˜ë‚˜ì˜ ì›¹í˜ì´ì§€ ì•ˆì—ì„œ ì—¬ëŸ¬ ìƒíƒœì˜ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.

---

<br/>

## ğŸš“ Routing

- ë¼ìš°íŒ… ê¸°ëŠ¥ì€ ë‹¤ë¥¸ ê²½ë¡œ(url ì£¼ì†Œ)ì— ë”°ë¼ ë‹¤ë¥¸ View(í™”ë©´)ì„ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤. (ì‚¬ì „ì ìœ¼ë¡œëŠ” íŒ¨í‚·, ì¦‰ íŠ¹ì • ì»¨í…ì¸ ê°€ ëª©ì ì§€ê¹Œì§€ ê°ˆ ìˆ˜ ìˆë„ë¡ ì „ì†¡ ê²½ë¡œë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì„ ëœ»í•œë‹¤.)

- ë¦¬ì•¡íŠ¸ ìì²´ëŠ” Route ê¸°ëŠ¥ì„ ê°–ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— `npm`ì„ í†µí•´ ì¶”ê°€ë¡œ ì„¤ì¹˜ë¥¼ í•´ì£¼ì–´ì•¼ í•œë‹¤. (í•´ë‹¹ í”„ë¡œì íŠ¸ ì´ì™¸ `Router`, `sass` ë“± í”„ë¡œê·¸ë˜ë°ì„ ë„ì™€ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì¶”ê°€ë¡œ ì„¤ì¹˜í•˜ê²Œ ë˜ëŠ”ë° ì´ë“¤ì„ **Third-party Library**ë¼ê³  í•œë‹¤.)

### 1. React-Router ì„¤ì¹˜

> `npm install react-router-dom --save`

---

### 2. Routes ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

>

```javascript
import React from "react";
import { BrowserRouter as Router, Switch, Route } from "react-router-dom";
//
import Login from "./pages/Login/Login";
//
class Routes extends React.Component {
  render() {
    return (
      <Router>
        <Switch>
          <Route exact path="/" component={Login} />
          <Route exact path="/main" component={Main} />
        </Switch>
      </Router>
    );
  }
}
//
export default Routes;
```

- `BrowserRouter(Router)` component: ê²½ë¡œë¥¼ ì§€ì •í•´ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸

  - `A as B`: Aë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ Bì˜ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” ëœ»ì´ë‹¤.

- `Swtich` component: ì²«ë²ˆì§¸ë¡œ ë§¤ì¹­ë˜ëŠ” `path`ë¥¼ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§ì‹œí‚¤ëŠ” attributeì´ë‹¤. (`early return`ê³¼ ë¹„ìŠ·í•¨)

- `Route` component:

  - `path = ""` attribute: ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ì´ë˜ëŠ” URLì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
  - `exact` attribute: ë¶€ë¶„ì  ì¼ì¹˜ê°€ ì•„ë‹Œ, ì •í™•í•˜ê²Œ ì¼ì¹˜í•˜ëŠ” URLì„ ì–»ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

---

### 3. Index.jsì— Routes ì»´í¬ë„ŒíŠ¸ ì‚½ì…

>

```javascript
import Routes from './Routes';
ReactDom.render(`<Routes>`, document.getElementById('root));
```

---

<br/>

## Route ì´ë™í•˜ê¸°

### 1. `<Link>` component

- react-router-domì—ì„œ ì œê³µí•˜ë©° í´ë¦­ ì‹œ ë°”ë¡œ ì´ë™í•˜ëŠ” ë¡œì§ êµ¬í˜„ì— ì£¼ë¡œ ì‚¬ìš©ëœë‹¤. (ì •ë³´ ì²˜ë¦¬ ê³ ë ¤ X)

- DOMì—ì„œ `<a>`ë¡œ ì»´íŒŒì¼ëœë‹¤.

- ex) Nav Bar, Aside Menu, ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ì—ì„œ ì•„ì´í…œ í´ë¦­ ì‹œ ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™

- a vs Link

  - `<a>`: ì™¸ë¶€ ì‚¬ì´íŠ¸ë¡œ ì´ë™

  - `<Link>`: í”„ë¡œì íŠ¸ ë‚´ í˜ì´ì§€ë¡œ ì „í™˜í•  ë•Œ ì‚¬ìš©í•œë‹¤.

>

```javascript
import React from "react";
import { Link } from "react-router-dom";
class Login extends React.Component {
  render() {
    return (
      <div>
        <Link to="/í•´ë‹¹ê²½ë¡œ"> í´ë¦­ ì‹œ ì´ë™ì„ ì›í•˜ëŠ” ì»¨í…ì¸  </Link>;
      </div>
    );
  }
}
export default Login;
```

### 2. `withRouterHOC`

- í˜ì´ì§€ë¥¼ ì „í™˜í•  ë•Œ ì²˜ë¦¬í•  ë¡œì§ì´ ìˆì„ ê²½ìš° ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ (ë‹¨ìˆœ ë§í¬ X)

  - ë¡œê·¸ì¸, backìœ¼ë¡œ ë°ì´í„° ì „ì†¡, ì‘ë‹µ ë“± ì •ë³´ ì²˜ë¦¬ ê´€ë ¨ì´ ìˆì„ ë•Œ ì‚¬ìš©

>

```javascript
import React from "react";
import { withRouter } from "react-router-dom";
//
class Login extends React.Component {
  goToMain = () => {
    this.props.history.push("./mainym");
  };

  render() {
    return (
      <>
        <button className="loginButton" type="submit" onClick={this.goToMain}>
          ë¡œê·¸ì¸
        </button>
      </>
    );
  }
}

export default withRouter(Login); // login ì»´í¬ë„ŒíŠ¸ì—ì„œ propsì— route ì •ë³´ë¥¼ ë°›ìœ¼ë ¤ë©´ exportí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì— withRouterë¡œ ê°ì‹¸ì£¼ì–´ì•¼ í•œë‹¤.
```

---

<br/>

## Reference

- [3rd party ì¨ë“œíŒŒí‹°ë€](https://vivabin.tistory.com/2)

- [Switchë¬¸](https://velog.io/@ees238/React-Switch%EB%AC%B8)

- [SwitchëŠ” ì–¸ì œ ì¨ì•¼ í• ê¹Œ?](https://baeharam.netlify.app/posts/react/why-switch-is-needed)
